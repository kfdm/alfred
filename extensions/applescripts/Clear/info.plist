<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>action</key>
	<false/>
	<key>background</key>
	<true/>
	<key>category</key>
	<string>APPLESCRIPTS</string>
	<key>command</key>
	<string>-- Taken from http://stackoverflow.com/questions/495323/quit-all-applications-using-applescript/495346#495346

-- Load our whitelist from a file
on load_whitelist()
	set settings_file to do shell script "
if [ ! -f whitelist.txt ] ; then
	echo 'Finder' &gt; whitelist.txt
fi
cat whitelist.txt
"
	set settings to every paragraph of settings_file
	-- Always make sure Finder is on the white list
	set settings to settings &amp; {"Finder"}
	return settings
end load_whitelist
set white_list to load_whitelist()

on growl(msg)
	tell application id "com.Growl.GrowlHelperApp"
		notify with name "Extension Output" ¬
			title "Remove Distractions" ¬
			application name "Alfred" ¬
			description msg
	end tell
end growl

tell application "System Events" to set the visible of every process to true

tell application "Finder"
	set process_list to the name of every process whose visible is true
end tell
repeat with i from 1 to (number of items in process_list)	try		set this_process to item i of the process_list		if this_process is not in white_list then			tell application this_process to quit
			growl("Quitting " &amp; this_process )		end if	on error		growl("Error quitting " &amp; this_process )	end tryend repeat
do shell script "source ~/.bash_profile; adium clear"</string>
	<key>disabled</key>
	<false/>
	<key>keyword</key>
	<string>clear</string>
	<key>parameter</key>
	<integer>0</integer>
	<key>subtitle</key>
	<string>Remove all distractions</string>
	<key>title</key>
	<string>Clear</string>
</dict>
</plist>
